<%- include('../partials/navbar') %> 
 
<div style="text-align:center; margin-top:20px;"> 
  <div class="main-container">
    <!-- Imagen flotante a la izquierda -->
    <img src="/images/Cuerpo/Cuerpo_Sign.jpg" class="float-left-img" alt="Cuerpo">
    
    <!-- Imagen principal en el centro -->
    <div class="image-container" style="display:inline-block; position:relative;"> 
      <img  
        id="imagenCuerpo" 
        src="/images/Cuerpo/Cuerpo.png"  
        alt="Cuerpo Humano"  
        class="main-image"
      > 
   
      <!-- ðŸ”³ Recuadros generados automÃ¡ticamente --> 
      <div id="overlays"></div> 
    </div>
    
    <!-- TÃ­tulo flotante a la derecha -->
    <h1 class="float-right-title">Cuerpo</h1>
  </div>
 
  <pre id="resultado" style="text-align:left; background:#f0f0f0; padding:10px; max-width:600px; margin:20px auto;"></pre> 
</div> 
 
<!-- ðŸ”½ MENÃš DE SUBTEMAS ABAJO --> 
<div class="subtema-menu"> 
  <a href="/temas/rostro">
    <img src="/images/senas/rostro.png" alt="SeÃ±a Rostro">
    <span>Rostro</span>
  </a>
  <a href="/temas/sentidos">
    <img src="/images/senas/sentidos.png" alt="SeÃ±a Sentidos">
    <span>Sentidos</span>
  </a>
  <a href="/temas/organos">
    <img src="/images/senas/organos.png" alt="SeÃ±a Ã“rganos">
    <span>Ã“rganos</span>
  </a>
  <a href="/temas/movimientos">
    <img src="/images/senas/movimientos.png" alt="SeÃ±a Movimientos">
    <span>Movimientos</span>
  </a>
</div>
 
<style> 
/* Reset y contenedor principal */
* {
  box-sizing: border-box;
}

.main-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 30px;
  margin: 0 auto 20px auto;
  max-width: 1300px;
  padding: 0 20px;
}

.float-left-img {
  width: 120px;
  height: auto;
  border-radius: 8px;
  flex-shrink: 0;
}

.image-container {
  position: relative;
  max-width: 100%;
}

.main-image {
  width: 100%;
  max-width: 900px;
  height: auto;
  border: 1px solid #ccc;
  border-radius: 12px;
  display: block;
}

.float-right-title {
  margin: 0;
  flex-shrink: 0;
  text-orientation: mixed;
  font-size: 2.5em;
}

.bounding-box { 
  position: absolute; 
  border: 2px solid transparent;
  border-radius: 4px; 
  pointer-events: auto;
  background: rgba(255, 255, 255, 0);
  transition: all 0.3s ease;
  cursor: pointer;
} 

.bounding-box:hover {
  border-color: #0077cc;
  background: rgba(0, 119, 204, 0.15);
  box-shadow: 0 0 15px rgba(0, 119, 204, 0.5);
}
 
.bounding-box:hover .tooltip-image,
.bounding-box:hover .tooltip-text { 
  display: block; 
} 
 
/* Tooltip para la IMAGEN (izquierda) */
.tooltip-image { 
  display: none; 
  position: absolute; 
  top: 50%;
  right: calc(100% + 10px);
  transform: translateY(-50%);
  background: rgba(0,0,0,0.85); 
  padding: 8px; 
  border-radius: 6px; 
  z-index: 10;
  pointer-events: none;
} 

.tooltip-image img { 
  display: block;
  width: 80px; 
  height: auto; 
  border-radius: 4px;
} 

/* Tooltip para el TEXTO (derecha) */
.tooltip-text { 
  display: none; 
  position: absolute; 
  top: 50%;
  left: calc(100% + 10px);
  transform: translateY(-50%);
  background: rgba(0,0,0,0.85); 
  color: white; 
  padding: 8px 12px; 
  border-radius: 6px; 
  font-size: 13px; 
  white-space: nowrap; 
  z-index: 10;
  pointer-events: none;
}
 
/* ðŸ”½ ESTILO DEL MENÃš DE SUBTEMAS */ 
.subtema-menu { 
  margin-top: 30px; 
  padding: 15px; 
  text-align: center; 
  background: #f8f8f8; 
  border-top: 2px solid #ccc;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
} 

.subtema-menu a { 
  display: inline-block;
  text-decoration: none;
  color: #333;
  font-weight: bold;
  transition: transform 0.3s ease, filter 0.3s ease;
}

.subtema-menu img { 
  width: 90px; 
  height: 90px; 
  object-fit: contain;
  border-radius: 12px;
  border: 2px solid transparent;
}

.subtema-menu span {
  display: block;
  margin-top: 8px;
  font-size: 14px;
}

.subtema-menu a:hover img {
  transform: scale(1.1);
  filter: brightness(1.1);
  border-color: #0077cc;
}

/* ðŸ“± RESPONSIVE TABLETS (max 992px) */
@media (max-width: 992px) {
  .main-container {
    gap: 20px;
    padding: 0 15px;
  }
  
  .float-left-img {
    width: 80px;
  }
  
  .float-right-title {
    font-size: 2em;
  }
  
  .tooltip-image img {
    width: 60px;
  }
  
  .subtema-menu img {
    width: 70px;
    height: 70px;
  }
}

/* ðŸ“± RESPONSIVE MÃ“VILES (max 768px) */
@media (max-width: 768px) {
  .main-container {
    flex-direction: column;
    gap: 15px;
  }
  
  .float-left-img {
    width: 100px;
    order: -1;
  }
  
  .float-right-title {
    font-size: 2em;
    order: 1;
  }
  
  .image-container {
    order: 0;
  }
  
  /* Tooltips en mÃ³viles - mostrar arriba/abajo */
  .tooltip-image {
    right: auto;
    left: 50%;
    top: auto;
    bottom: calc(100% + 10px);
    transform: translateX(-50%);
  }
  
  .tooltip-text {
    left: 50%;
    top: calc(100% + 10px);
    transform: translateX(-50%);
  }
  
  .subtema-menu {
    gap: 15px;
    padding: 15px 10px;
  }
  
  .subtema-menu img {
    width: 60px;
    height: 60px;
  }
  
  .subtema-menu span {
    font-size: 12px;
  }
}

/* ðŸ“± RESPONSIVE MÃ“VILES PEQUEÃ‘OS (max 480px) */
@media (max-width: 480px) {
  .main-container {
    padding: 0 10px;
  }
  
  .float-left-img {
    width: 80px;
  }
  
  .float-right-title {
    font-size: 1.5em;
  }
  
  .tooltip-image img {
    width: 50px;
  }
  
  .tooltip-text {
    font-size: 11px;
    padding: 6px 10px;
  }
  
  .subtema-menu {
    gap: 10px;
  }
  
  .subtema-menu img {
    width: 50px;
    height: 50px;
  }
  
  .subtema-menu span {
    font-size: 11px;
  }
  
  /* Ajustar hover en mÃ³viles */
  .bounding-box:active {
    border-color: #0077cc;
    background: rgba(0, 119, 204, 0.15);
  }
}
</style> 
 
<script> 
// ðŸ”¹ Datos del CSV originales (base 900px de ancho)
const objetosBase = [ 
  { nombre: "NiÃ±o", x: 148, y: 11, w: 238, h: 571 }, 
  { nombre: "NiÃ±a", x: 497, y: 22, w: 273, h: 559 }, 
  { nombre: "Cabeza", x: 530, y: 37, w: 209, h: 198 }, 
  { nombre: "Cabeza", x: 162, y: 32, w: 197, h: 203 }, 
  { nombre: "Brazo", x: 328, y: 275, w: 27, h: 166 }, 
  { nombre: "Brazo", x: 177, y: 267, w: 37, h: 169 }, 
  { nombre: "Brazo", x: 541, y: 255, w: 40, h: 172 }, 
  { nombre: "Brazo", x: 681, y: 269, w: 41, h: 163 }, 
  { nombre: "Pierna", x: 640, y: 467, w: 53, h: 71 }, 
  { nombre: "Pierna", x: 579, y: 460, w: 50, h: 77 }, 
  { nombre: "Pierna", x: 206, y: 402, w: 53, h: 135 }, 
  { nombre: "Pierna", x: 263, y: 410, w: 57, h: 130 },
  { nombre: "Tronco", x: 215, y: 245, w: 112, h: 152 }, 
  { nombre: "Tronco", x: 585, y: 251, w: 101, h: 212 } 
];

console.log("Total de objetos:", objetosBase.length); 

const imagen = document.getElementById("imagenCuerpo");
const overlay = document.getElementById("overlays");
const anchoBase = 900; // Ancho original de referencia

function crearBoundingBoxes() {
  // Limpiar overlays existentes
  overlay.innerHTML = '';
  
  // Obtener el ancho actual de la imagen
  const anchoActual = imagen.offsetWidth;
  const escala = anchoActual / anchoBase;
  
  objetosBase.forEach((obj, i) => { 
    const div = document.createElement("div"); 
    div.className = "bounding-box"; 
    
    // Escalar las coordenadas
    div.style.left = (obj.x * escala) + "px"; 
    div.style.top = (obj.y * escala) + "px"; 
    div.style.width = (obj.w * escala) + "px"; 
    div.style.height = (obj.h * escala) + "px"; 
   
    // Tooltip de IMAGEN (izquierda)
    const tooltipImage = document.createElement("div"); 
    tooltipImage.className = "tooltip-image"; 
    tooltipImage.innerHTML = `<img src="/images/Cuerpo/${obj.nombre}.jpg" alt="SeÃ±a de ${obj.nombre}">`; 
    
    // Tooltip de TEXTO (derecha)
    const tooltipText = document.createElement("div"); 
    tooltipText.className = "tooltip-text"; 
    tooltipText.textContent = obj.nombre;
    
    div.appendChild(tooltipImage); 
    div.appendChild(tooltipText); 
    overlay.appendChild(div); 
  }); 
}

// Crear los bounding boxes cuando la imagen cargue
imagen.addEventListener('load', crearBoundingBoxes);

// Recrear los bounding boxes cuando cambie el tamaÃ±o de la ventana
let resizeTimer;
window.addEventListener('resize', () => {
  clearTimeout(resizeTimer);
  resizeTimer = setTimeout(crearBoundingBoxes, 250);
});

// Ejecutar inicialmente si la imagen ya estÃ¡ cargada
if (imagen.complete) {
  crearBoundingBoxes();
}
</script>